<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIGENT</title>
  <script src="[[ url_for('static', path='/libs/tailwind.js') ]]"></script>

  <!--
    MODIFICATION: Define a global JavaScript variable for the application's root path.
    The `root_url` value is passed from the FastAPI backend. This allows all
    frontend JavaScript files to build correct API paths, regardless of whether
    the app is running at the server root or in a subdirectory.
  -->
  <script>
    window.ROOT_PATH = "[[ root_url ]]";
  </script>

</head>
<body class="bg-gray-100 font-sans">
  <div id="app">
    <div class="flex items-center justify-center min-h-screen">
        <p class="text-gray-500">Loading AIGENT...</p>
    </div>
  </div>

  <!-- JavaScript Libraries (Classic Scripts) -->
  <script src="[[ url_for('static', path='/libs/vue.global.js') ]]"></script>
  <script>window.Vue = window.VueGlobal || window.Vue;</script>
  <script src="[[ url_for('static', path='/libs/dexie.min.js') ]]"></script>
  <script src="[[ url_for('static', path='/js/db.js') ]]"></script>
  <script src="[[ url_for('static', path='/libs/xlsx.full.min.js') ]]"></script>
  <script src="[[ url_for('static', path='/libs/showdown.min.js') ]]"></script>
  <!-- FIX: Add the pdf.js library. This makes window.pdfjsLib available. -->
  <script type="module" src="[[ url_for('static', path='/libs/pdf.mjs') ]]"></script>
  <script type="module" src="[[ url_for('static', path='/libs/pdf.worker.mjs') ]]"></script>


  <!-- Application Scripts (ES Modules) -->
  <script type="module"  src="[[ url_for('static', path='/libs/mammoth.browser.min.js') ]]"></script>
  <script type="module" src="[[ url_for('static', path='/js/main.js') ]]"></script>

</body>
</html>
